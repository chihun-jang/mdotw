---
title: "#44 알고리즘 연습 - 실패율(Python)"
date: "2020-05-11"
category: ['Algorithm']
draft : False
---

>실패율은 다음과 같이 정의한다.
**스테이지에 도달했으나 아직 클리어하지 못한 플레이어의 수** / **스테이지에 도달한 플레이어 수**

**전체 스테이지의 개수 N**, 게임을 이용하는 사용자가 현재 멈춰있는 **스테이지의 번호가 담긴 배열 stages**가 매개변수로 주어질 때, **실패율이 높은 스테이지부터 내림차순으로 스테이지의 번호가 담겨있는 배열을 return **하도록 solution 함수를 완성하라.


제한사항

* 스테이지의 개수 N은 1 이상 500 이하의 자연수이다.
* stages의 길이는 1 이상 200,000 이하이다.
* stages에는 1 이상 N + 1 이하의 자연수가 담겨있다.
* 각 자연수는 사용자가 현재 도전 중인 스테이지의 번호를 나타낸다.
* 단, N + 1 은 마지막 스테이지(N 번째 스테이지) 까지 클리어 한 사용자를 나타낸다.
* 만약 실패율이 같은 스테이지가 있다면 작은 번호의 스테이지가 먼저 오도록 하면 된다.
* 스테이지에 도달한 유저가 없는 경우 해당 스테이지의 실패율은 0 으로 정의한다.
  

입출력 예

|N|	stages|	result|
|-|-|-|
|5|	[2, 1, 2, 6, 2, 4, 3, 3]|[3,4,2,1,5]|
|4|	[4,4,4,4,4]|	[4,1,2,3]|

입출력 예 설명

입출력 예 #1
1번 스테이지에는 총 8명의 사용자가 도전했으며, 이 중 1명의 사용자가 아직 클리어하지 못했다. 따라서 1번 스테이지의 실패율은 다음과 같다.

1 번 스테이지 실패율 : 1/8
2번 스테이지에는 총 7명의 사용자가 도전했으며, 이 중 3명의 사용자가 아직 클리어하지 못했다. 따라서 2번 스테이지의 실패율은 다음과 같다.

2 번 스테이지 실패율 : 3/7
마찬가지로 나머지 스테이지의 실패율은 다음과 같다.

3 번 스테이지 실패율 : 2/4
4번 스테이지 실패율 : 1/2
5번 스테이지 실패율 : 0/1
각 스테이지의 번호를 실패율의 내림차순으로 정렬하면 다음과 같다.

[3,4,2,1,5]


입출력 예 #2

모든 사용자가 마지막 스테이지에 있으므로 4번 스테이지의 실패율은 1이며 나머지 스테이지의 실패율은 0이다.

[4,1,2,3]


> _**문제풀이 IDEA**_
>머물러있는 Stage 배열을 보면 배열의 길이가 사용자의 수를 나타낸다는 것을 알수 있고,
>주어지는 N이 스테이지 수이므로 N을 기준으로 Stage를 통과했는지 못했는지 여부를 판단해 주면 될것 같다.
그리고 마지막으로 주의해서 봐야할 부분은 스테이지가 지날수록 이전 스테이지에서 올라오지 못한사람의 수만큼은 빼줘야한다는 것이다.


#### 내 풀이 🏆

```python
def solution(N, stages):
    num = len(stages)
    stg = dict()
    for i in range(1,N+1):
        if num == 0:
            stg[i] = 0
            continue
            
        tem_cnt = stages.count(i)
        stg[i] = tem_cnt/num
        num -= tem_cnt
    return sorted(stg, key = lambda x : stg[x],reverse=True)
```
stages배열의 길이를 사용자 수(num)로 뒀었고
stage의 실패율을 기록하여 정렬하려고 하니 실패율만 기록해서는 어떤 스테이지인지 알지 못하고, 그러기 위해서는 **dict type이 가장 적합**해보였다.

그런데 key값으로 실패율을 사용하기에는 **실패율이 같은 경우가 발생**할 수 있으므로 data의 손실이 발생하게 된다.

그래서 stage번호를 key값으로 사용하고, **sort를 value값**으로 해주는 방법을 택했다.


최근 다른 문제 풀이에도 그렇고 이번문제에도 **lambda**식이 사용되었는데 예전보다 사용할때 거부감도 덜하고 손에 익어가는 것 같다.